!define(["conf","api","fun"],function(e,r,a){return console.log(e),document.title="Hi",function(e){var o=location.origin,n={test:"",SingTel:"/recharge/SingTel",StarHub:"/recharge/StarHub",M1:"/recharge/M1",recharge:"/recharge/recharge",order:"/order/order",orderBack:"/order/orderBack",policy:"/common/policy",update:"/common/update",member:"/personal/member",pointRecord:"/personal/pointRecord"};$('[data-type="url"]',e).each(function(){var e,r=$(this),a=r.data();e=o+location.pathname+"#"+n[a.key],"recharge"==a.key&&(e+="?type="+a.url),r.attr("href",e)}),$("#payTest",e).click(function(){r({item_id:"1234567890n",phone:"13800138000"},{url:"api/pay/create",contentType:"application/x-www-form-urlencoded"}).then(function(e){e&&e.appId?WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e.appId,timeStamp:e.timeStamp,nonceStr:e.nonceStr,"package":e["package"],signType:"MD5",paySign:e.sign},function(e){WeixinJSBridge.log(e.err_msg),"get_brand_wcpay_request:ok"==e.err_msg?a.swal("恭喜您，支付成功","success",function(){location.href="#/order/order",location.reload()}):"get_brand_wcpay_request:cancel"==e.err_msg?module.exports.swal("支付已取消","info"):"get_brand_wcpay_request:fail"==e.err_msg&&module.exports.swal("支付失败","warning")}):a.swal("签名失败，请稍后重试","error")},function(){module.exports.swal("请求失败，请稍后重试","error")})})}});