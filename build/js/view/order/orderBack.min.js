!define(["conf","api","fun"],function(n,t,a){"ude strict";return document.title="申请退款",function(n){var e=function(){var e=$(".r-article",n),i=$(".r-article__ul",n),o=$("#loadMore",n),c=o.outerHeight(!0),l=this;this.bizCont={page:1,class_name:"",refund:1},this.canLoadPage=!0,this.fetchData=function(){l.canLoadPage=!1,t(l.bizCont,{type:"GET",url:"api/bill"}).then(function(n){if(n&&0==n.status){var t=n.data;if(t.length>0){l.canLoadPage=!0,l.bizCont.page+=1;var c=a.orderList(t);i.append(c),c=null,a.isShowLoading(e,o)}else l.canLoadPage=!1,o.show(),1==l.bizCont.page?o.html("您没有任何充值失败的订单，如有疑问，请联系客服。"):o.html("没有更多数据")}else l.canLoadPage=!0},function(){l.canLoadPage=!0})},this.init=function(){$(document).on("click",".r-click",function(n){var t=$(n.target);a.payBack(t)}),e.on("scroll",function(){if(0==l.canLoadPage)return!1;var n=e.get(0),t=n.scrollHeight,a=n.clientHeight,i=n.scrollTop;t-=c,i+a>=t&&l.fetchData(),n=null,t=null,a=null,i=null}),l.fetchData()}},i=new e;i.init()}});